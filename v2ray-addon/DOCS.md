# Home Assistant 代理服务插件

## 安装步骤

1. 在Home Assistant中添加自定义存储库：
   - 打开Home Assistant
   - 进入 **配置** > **加载项** > **加载项商店**
   - 点击右上角的菜单按钮（三个点）
   - 选择 **存储库**
   - 添加存储库URL：`https://github.com/你的用户名/ha-proxy-addon`
   
2. 安装插件：
   - 刷新页面
   - 在加载项列表中找到 "代理服务"
   - 点击安装

## 配置说明

### 必需的配置项：

| 配置项 | 描述 |
|--------|------|
| `subscription_type` | 订阅类型（clash 或 shadowrocket） |
| `subscription_url` | 订阅地址URL |
| `clear_config` | 是否在停止时清理配置（建议：true） |

### 网络端口：

- HTTP代理：7890
- SOCKS代理：7891

## 使用方法

1. 配置插件：
   - 选择你的订阅类型
   - 粘贴订阅地址
   - 设置是否自动清理配置

2. 启动插件：
   - 点击"启动"按钮
   - 等待服务启动完成

3. 使用代理：
   - HTTP代理：`http://你的HA地址:7890`
   - SOCKS代理：`socks5://你的HA地址:7891`

4. 完成后：
   - 点击"停止"按钮关闭服务
   - 如果开启了自动清理，配置会被自动删除

## 故障排除

1. 如果插件无法启动：
   - 检查订阅地址是否正确
   - 检查网络连接是否正常
   - 查看插件日志获取详细错误信息

2. 如果代理无法连接：
   - 确认HA的IP地址是否正确
   - 检查端口（7890/7891）是否被占用
   - 确认防火墙是否允许这些端口的访问

## 安全建议

1. 仅在需要时启动插件
2. 使用完成后立即关闭
3. 启用配置自动清理功能
4. 定期更新订阅地址
5. 不要将订阅地址分享给他人

## 支持的系统

- Home Assistant OS
- Home Assistant Supervised

## 更新记录

- 1.0.0
  - 初始发布
  - 支持Clash和Shadowrocket订阅
  - 支持配置自动清理 